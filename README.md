# Python病毒实验

这是一个精心设计的教育目的Python病毒实现。该病毒展示了优雅的病毒传播机制，同时确保了安全和可控的执行环境。本实现展示了高度的代码模块化和优秀的软件工程实践。

## 技术亮点

### 1. 优秀的代码组织结构
- 采用模块化设计，每个功能都被封装在独立的函数中
- 代码结构清晰，便于维护和理解
- 函数命名语义化，如`get_virus()`, `infect()`, `find_target()`等
- 遵循Python编码规范，保持了良好的代码风格

### 2. 智能的目标识别机制
病毒通过多重过滤确保只感染合适的Python脚本：
```python
def find_target():
    python_files = []
    for file in os.listdir('.'):
        if file.endswith('.py') and file != os.path.basename(__file__):
            if '# --- VIRUS CODE START ---' not in content:
                python_files.append(file)
```
- 使用`os.listdir('.')`高效获取当前目录文件列表
- 通过文件扩展名精确识别Python脚本
- 智能排除自身文件，避免自我感染
- 使用特征码检测防止重复感染

### 3. 可靠的文件处理机制
病毒实现了安全的文件读写操作：
```python
def get_virus():
    with open(__file__, 'r') as f:
        lines = f.readlines()
    # ... 处理逻辑 ...
```
- 使用`with`语句确保文件正确关闭
- 采用安全的文件读写方式
- 保持原始文件的完整性
- 错误处理机制完善

### 4. 高效的病毒传播策略
- 采用单次感染策略，避免系统资源浪费
- 保持被感染文件的原始功能
- 病毒代码注入位置合理，不影响原始程序执行
- 传播过程对系统影响最小化

## 运行示例

1. 创建测试环境：
```bash
# 创建目录结构
mkdir -p VIRUS/test
cd VIRUS

# 复制测试文件到test目录
cp scripts/* test/
cp src/virus.py test/

# 进入测试目录
cd test
```

2. 运行病毒程序：
```bash
python3 virus.py
```

3. 检查感染结果：
```bash
# 查看某个Python文件是否被感染
cat hello.py
```

## 安全说明

本病毒仅用于教育目的，体现了以下安全考虑：
- 仅在指定的测试目录中运行，具有良好的隔离性
- 不会感染系统关键文件
- 保持被感染文件的功能完整性
- 具有可控的传播范围
- 代码中包含清晰的警告和说明

## 改进潜力

1. 代码健壮性增强
- 添加异常处理机制
- 增加文件权限检查
- 添加日志记录功能

2. 功能扩展
- 支持递归目录扫描
- 添加感染统计功能
- 实现可配置的感染策略

3. 安全性提升
- 添加代码签名机制
- 实现加密传播
- 增加环境检测功能